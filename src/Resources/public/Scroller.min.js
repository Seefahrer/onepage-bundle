function Scroller(){var t=document.scrollingElement||document.documentElement,e=400,i="easeInOut",n=0,s=[],o=[],c=!1;this.setDuration=function(t){e=t},this.getDuration=function(){return e},this.setEasing=function(t){i=t},this.getEasing=function(){return i},this.setOffset=function(t){n=t},this.getOffset=function(){return n},this.getPosition=function(){return t.scrollTop};var r=function(e){t.scrollTop=e};this.getQueue=function(){return s},this.abort=function(){s=[],c=!1},this.movable=function(t){t=decodeURI(t);return void 0!==document.getElementById(t)},this.move=function(t){t!==s[s.length-1]&&s.push(t),!1===c&&this.scroll()},this.scroll=function(n,d){if(!0!==c&&void 0===d){d=l(document.getElementById(s[0]));void 0===n&&(n=0,this.distance=Math.abs(d-t.scrollTop),d>=this.getPosition()?(this.offsetElement=d-this.distance,this.direction="down"):(this.offsetElement=this.getPosition(),this.direction="up")),c=!0}if(!0===c){switch(i){case"linear":v=a(n/e);break;case"easeIn":v=u(n/e);break;case"easeOut":v=h(n/e);break;case"easeInOut":v=f(n/e);break;default:var v=a(n/e)}var g=this.distance/1*v;"down"===this.direction?r(this.offsetElement+g):"up"===this.direction&&r(this.offsetElement-g),setTimeout(function(t){if(n>=e)return c=!1,o.unshift(s.shift()),void(s.length>0&&t.scroll());t.scroll(n+5,d)},5,this)}};var u=function(t){return t*t*t},h=function(t){return--t*t*t+1},f=function(t){return t<.5?2*t*t:(4-2*t)*t-1},a=function(t){return t},l=function(t,e){return void 0===e&&(e=-n),void 0!=t.offsetParent&&(e+=t.offsetTop,e=l(t.offsetParent,e)),e};this.highlightActiveLink=function(t,e){sections={};for(var i=0;i<t.length;i++)this.movable(t[i])&&(id=decodeURI(t[i].hash.replace("#","")),sections[id]=t[i],t[i].dispatchEvent(e));var n=this;window.addEventListener("scroll",function(t){n.setActiveLink(sections)})},this.setActiveLink=function(t){var e=.25*window.innerHeight;for(var i in t){var n=document.getElementById(i),s=n.getBoundingClientRect().height,o=l(n);this.getPosition()>=o-e&&this.getPosition()<=o+s-e?t[i].classList.add("active"):t[i].classList.remove("active")}}}